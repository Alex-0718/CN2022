{"version":3,"file":"js/app.a746d3d1.js","mappings":"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","sources":["webpack://cn-project-messaging/./src/App.vue","webpack://cn-project-messaging/./src/components/Header.vue","webpack://cn-project-messaging/src/components/Header.vue","webpack://cn-project-messaging/./src/components/Header.vue?d878","webpack://cn-project-messaging/./src/components/Header.vue?03e2","webpack://cn-project-messaging/./src/components/Navigation.vue","webpack://cn-project-messaging/./src/components/Navigation.vue?b4ab","webpack://cn-project-messaging/src/App.vue","webpack://cn-project-messaging/./src/App.vue?7e46","webpack://cn-project-messaging/./src/App.vue?0e40","webpack://cn-project-messaging/./src/plugins/vuetify.js","webpack://cn-project-messaging/./src/views/LoginView.vue","webpack://cn-project-messaging/src/views/LoginView.vue","webpack://cn-project-messaging/./src/views/LoginView.vue?4732","webpack://cn-project-messaging/./src/views/LoginView.vue?eb81","webpack://cn-project-messaging/./src/views/RegisterView.vue","webpack://cn-project-messaging/src/views/RegisterView.vue","webpack://cn-project-messaging/./src/views/RegisterView.vue?8c0b","webpack://cn-project-messaging/./src/views/RegisterView.vue?4f51","webpack://cn-project-messaging/./src/views/PostView.vue","webpack://cn-project-messaging/src/views/PostView.vue","webpack://cn-project-messaging/./src/views/PostView.vue?155a","webpack://cn-project-messaging/./src/views/PostView.vue?56f8","webpack://cn-project-messaging/./src/views/PhoneView.vue","webpack://cn-project-messaging/src/views/PhoneView.vue","webpack://cn-project-messaging/./src/views/PhoneView.vue?1d15","webpack://cn-project-messaging/./src/views/PhoneView.vue?0e1d","webpack://cn-project-messaging/./src/router/index.js","webpack://cn-project-messaging/./src/store/index.js","webpack://cn-project-messaging/./src/main.js","webpack://cn-project-messaging/webpack/bootstrap","webpack://cn-project-messaging/webpack/runtime/chunk loaded","webpack://cn-project-messaging/webpack/runtime/compat get default export","webpack://cn-project-messaging/webpack/runtime/define property getters","webpack://cn-project-messaging/webpack/runtime/global","webpack://cn-project-messaging/webpack/runtime/hasOwnProperty shorthand","webpack://cn-project-messaging/webpack/runtime/make namespace object","webpack://cn-project-messaging/webpack/runtime/jsonp chunk loading","webpack://cn-project-messaging/webpack/startup"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-app',{staticClass:\"tw-h-screen tw-flex tw-flex-col\",attrs:{\"id\":\"app\"}},[_c('Header',{staticClass:\"tw-shadow-[0_0_3px_0_#0004]\"}),_c('router-view',{staticClass:\"tw-flex-1 tw-overflow-y-scroll\"}),_c('Navigation',{staticClass:\"tw-shadow-[0_0_3px_0_#0004]\"})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"tw-flex tw-flex-row tw-h-16 tw-items-center tw-px-4 tw-bg-primary tw-text-white\"},[_c('h1',{staticClass:\"tw-flex-1 tw-text-left tw-text-2xl\"},[_vm._v(\"Messaging\")]),(_vm.$store.state.loggedIn)?_c('div',[_c('span',{staticClass:\"px-1\"},[_vm._v(\"Hi, \"+_vm._s(_vm.$store.state.username))]),_c('span',{staticClass:\"px-1\",on:{\"click\":_vm.logout}},[_vm._v(\"登出\")])]):_c('div',[_c('router-link',{staticClass:\"tw-text-white\",attrs:{\"to\":\"/\"}},[_c('span',[_vm._v(\"請先登入\")])])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"tw-flex tw-flex-row tw-h-16 tw-items-center tw-px-4 tw-bg-primary tw-text-white\">\r\n        <h1 class=\"tw-flex-1 tw-text-left tw-text-2xl\">Messaging</h1>\r\n        <div v-if=\"$store.state.loggedIn\">\r\n            <span class=\"px-1\">Hi, {{ $store.state.username }}</span>\r\n            <span class=\"px-1\" @click=\"logout\">登出</span>\r\n        </div>\r\n        <div v-else>\r\n            <router-link to=\"/\" class=\"tw-text-white\">\r\n                <span>請先登入</span>\r\n            </router-link>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    name: 'Header',\r\n    data() {\r\n        return {\r\n            loginDialog: false,\r\n            loggingIn: false,\r\n            form: {\r\n                username: '',\r\n                password: ''\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        logout() {\r\n            fetch(process.env.VUE_APP_API + '/logout', {\r\n                credentials: 'include'\r\n            }).then(r => r.json()).then(response => {\r\n                if (response.success) {\r\n                    this.$store.commit('logout')\r\n                    this.$router.push('/')\r\n                }\r\n                else alert(response.data)\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Header.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Header.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Header.vue?vue&type=template&id=16cdd669&\"\nimport script from \"./Header.vue?vue&type=script&lang=js&\"\nexport * from \"./Header.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"tw-flex tw-h-16 tw-items-center tw-text-center\"},[_c('span',{staticClass:\"tw-flex-1\"},[_c('router-link',{attrs:{\"to\":\"/post\"}},[_c('v-icon',[_vm._v(\"mdi-post\")])],1)],1),_c('span',{staticClass:\"tw-flex-1\"},[_c('router-link',{attrs:{\"to\":\"/phone\"}},[_c('v-icon',[_vm._v(\"mdi-phone\")])],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./Navigation.vue?vue&type=template&id=1780b4c9&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <v-app id=\"app\" class=\"tw-h-screen tw-flex tw-flex-col\">\n    <Header class=\"tw-shadow-[0_0_3px_0_#0004]\"></Header>\n    <router-view class=\"tw-flex-1 tw-overflow-y-scroll\" />\n    <Navigation class=\"tw-shadow-[0_0_3px_0_#0004]\"></Navigation>\n  </v-app>\n</template>\n\n<script>\nimport Header from './components/Header.vue'\nimport Navigation from './components/Navigation.vue';\nexport default {\n  name: 'App',\n  components: {\n    Header,\n    Navigation\n  },\n  mounted() {\n    console.log(process.env.VUE_APP_API)\n    fetch(process.env.VUE_APP_API + '/status', {\n      credentials: 'include'\n    }).then(r => r.json()).then(response => {\n      if (response.success) {\n        if (response.data.username) {\n          this.$store.commit('login', { username: response.data.username })\n          if (this.$route.name == 'login') this.$router.push('/post')\n        } else {\n          this.$router.push('/')\n        }\n      } else {\n        alert(response.data)\n      }\n    })\n  }\n}\n</script>","import mod from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=12f641fb&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\nimport Vuetify from 'vuetify/lib/framework';\n\nVue.use(Vuetify);\n\nexport default new Vuetify({\n});\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',[_c('v-card',[_c('v-card-title',[_vm._v(\"登入\")]),_c('v-container',{staticClass:\"tw-pt-0\"},[_c('v-form',{ref:\"form\"},[_c('v-text-field',{attrs:{\"label\":\"username\",\"rules\":_vm.required},model:{value:(_vm.form.username),callback:function ($$v) {_vm.$set(_vm.form, \"username\", $$v)},expression:\"form.username\"}}),_c('v-text-field',{attrs:{\"label\":\"password\",\"type\":\"text\",\"rules\":_vm.required},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}}),_c('v-btn',{attrs:{\"color\":\"primary\",\"loading\":_vm.loggingIn},on:{\"click\":function($event){return _vm.login()}}},[_vm._v(\"登入\")])],1)],1)],1),_c('router-link',{attrs:{\"to\":\"/register\"}},[_c('span',{staticClass:\"tw-mt-2 tw-text-center tw-w-full tw-inline-block\"},[_vm._v(\"沒有帳號？點這裡註冊\")])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container>\n    <v-card>\n      <v-card-title>登入</v-card-title>\n      <v-container class=\"tw-pt-0\">\n        <v-form ref=\"form\">\n          <v-text-field label=\"username\" v-model=\"form.username\" :rules=\"required\"></v-text-field>\n          <v-text-field label=\"password\" type=\"text\" v-model=\"form.password\" :rules=\"required\"></v-text-field>\n          <v-btn color=\"primary\" @click=\"login()\" :loading=\"loggingIn\">登入</v-btn>\n        </v-form></v-container>\n    </v-card>\n\n    <router-link to=\"/register\">\n      <span class=\"tw-mt-2 tw-text-center tw-w-full tw-inline-block\">沒有帳號？點這裡註冊</span></router-link>\n  </v-container>\n</template>\n<script>\nexport default {\n  name: 'LoginView',\n  data() {\n    return {\n      form: {\n        username: '',\n        password: ''\n      },\n      loggingIn: false,\n      required: [\n        (value) => {\n          if (value instanceof String) return value?.trim().length ? true : \"必填\";\n          else if (value instanceof Number) return true;\n          else return !!value ? true : \"必填\";\n        },\n      ],\n    }\n  },\n  methods: {\n    login() {\n      this.loggingIn = true\n      fetch(process.env.VUE_APP_API + '/login', {\n        method: 'POST',\n        credentials: 'include',\n        body: JSON.stringify(this.form),\n        headers: {\n          'content-type': 'application/json'\n        }\n      }).then(r => r.json()).then(response => {\n        if (response.success) {\n          this.$store.commit('login', { username: this.form.username })\n          if (this.$route.name != 'post') this.$router.push('/post')\n        }\n        else alert(response.data)\n        this.form.username = ''\n        this.form.password = ''\n        this.loggingIn = false\n      })\n    },\n  }\n}</script>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LoginView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LoginView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LoginView.vue?vue&type=template&id=67423c82&\"\nimport script from \"./LoginView.vue?vue&type=script&lang=js&\"\nexport * from \"./LoginView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',[_c('v-card',[_c('v-card-title',[_vm._v(\"註冊\")]),_c('v-container',{staticClass:\"tw-pt-0\"},[_c('v-form',{ref:\"form\"},[_c('v-text-field',{attrs:{\"label\":\"username\",\"rules\":_vm.required},model:{value:(_vm.form.username),callback:function ($$v) {_vm.$set(_vm.form, \"username\", $$v)},expression:\"form.username\"}}),_c('v-text-field',{attrs:{\"label\":\"password\",\"type\":\"text\",\"rules\":_vm.required},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}}),_c('v-btn',{attrs:{\"color\":\"primary\",\"loading\":_vm.registering},on:{\"click\":function($event){return _vm.register()}}},[_vm._v(\"註冊\")])],1)],1)],1),_c('router-link',{attrs:{\"to\":\"/\"}},[_c('span',{staticClass:\"tw-mt-2 tw-text-center tw-w-full tw-inline-block\"},[_vm._v(\"阿其實我註冊過了拉, 派謝\")])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-container>\r\n        <v-card>\r\n            <v-card-title>註冊</v-card-title>\r\n            <v-container class=\"tw-pt-0\">\r\n                <v-form ref=\"form\">\r\n                    <v-text-field label=\"username\" v-model=\"form.username\" :rules=\"required\"></v-text-field>\r\n                    <v-text-field label=\"password\" type=\"text\" v-model=\"form.password\" :rules=\"required\"></v-text-field>\r\n                    <v-btn color=\"primary\" @click=\"register()\" :loading=\"registering\">註冊</v-btn>\r\n                </v-form></v-container>\r\n        </v-card>\r\n\r\n        <router-link to=\"/\">\r\n            <span class=\"tw-mt-2 tw-text-center tw-w-full tw-inline-block\">阿其實我註冊過了拉, 派謝</span></router-link>\r\n    </v-container>\r\n</template>\r\n<script>\r\nexport default {\r\n    name: 'RegisterView',\r\n    data() {\r\n        return {\r\n            form: {\r\n                username: '',\r\n                password: ''\r\n            },\r\n            registering: false,\r\n            required: [\r\n                (value) => {\r\n                    if (value instanceof String) return value?.trim().length ? true : \"必填\";\r\n                    else if (value instanceof Number) return true;\r\n                    else return !!value ? true : \"必填\";\r\n                },\r\n            ],\r\n        }\r\n    },\r\n    methods: {\r\n        register() {\r\n            this.registering = true\r\n            fetch(process.env.VUE_APP_API + '/register', {\r\n                method: 'POST',\r\n                credentials: 'include',\r\n                body: JSON.stringify(this.form),\r\n                headers: {\r\n                    'content-type': 'application/json'\r\n                }\r\n            }).then(r => r.json()).then(response => {\r\n                if (response.success) {\r\n                    alert('註冊成功 請登入')\r\n                    this.$router.push('/')\r\n                }\r\n                else alert(response.data)\r\n                this.form.username = ''\r\n                this.form.password = ''\r\n                this.registering = false\r\n            })\r\n        },\r\n    }\r\n}</script>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RegisterView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RegisterView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RegisterView.vue?vue&type=template&id=1f069aa9&\"\nimport script from \"./RegisterView.vue?vue&type=script&lang=js&\"\nexport * from \"./RegisterView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',[_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"600px\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-btn',_vm._g(_vm._b({attrs:{\"color\":\"primary\",\"dark\":\"\"}},'v-btn',attrs,false),on),[_vm._v(\" 新貼文 \")])]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',[_c('span',{staticClass:\"text-h5\"},[_vm._v(\"新增貼文\")])]),_c('v-card-text',[_c('v-container',[_c('v-text-field',{attrs:{\"label\":\"標題\"},model:{value:(_vm.form.title),callback:function ($$v) {_vm.$set(_vm.form, \"title\", $$v)},expression:\"form.title\"}}),_c('v-textarea',{attrs:{\"label\":\"內容\"},model:{value:(_vm.form.content),callback:function ($$v) {_vm.$set(_vm.form, \"content\", $$v)},expression:\"form.content\"}})],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){_vm.dialog = false}}},[_vm._v(\" Close \")]),_c('v-btn',{attrs:{\"color\":\"primary\",\"loading\":_vm.saving},on:{\"click\":function($event){_vm.post(); _vm.dialog = false}}},[_vm._v(\" Save \")])],1)],1)],1),_vm._l((_vm.posts),function(post,index){return _c('v-card',{key:`post${index}`,staticClass:\"my-2\"},[_c('v-card-text',{staticClass:\"markdown-body\",domProps:{\"innerHTML\":_vm._s(_vm.markdown(post))}})],1)})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-container>\r\n        <v-dialog v-model=\"dialog\" persistent max-width=\"600px\">\r\n            <template v-slot:activator=\"{ on, attrs }\">\r\n                <v-btn color=\"primary\" dark v-bind=\"attrs\" v-on=\"on\">\r\n                    新貼文\r\n                </v-btn>\r\n            </template>\r\n            <v-card>\r\n                <v-card-title>\r\n                    <span class=\"text-h5\">新增貼文</span>\r\n                </v-card-title>\r\n                <v-card-text>\r\n                    <v-container>\r\n                        <v-text-field label=\"標題\" v-model=\"form.title\"></v-text-field>\r\n                        <v-textarea label=\"內容\" v-model=\"form.content\"></v-textarea>\r\n                    </v-container>\r\n                </v-card-text>\r\n                <v-card-actions>\r\n                    <v-spacer></v-spacer>\r\n                    <v-btn color=\"primary\" @click=\"dialog = false\"> Close </v-btn>\r\n                    <v-btn color=\"primary\" @click=\"post(); dialog = false\" :loading=\"saving\"> Save </v-btn>\r\n                </v-card-actions>\r\n            </v-card>\r\n        </v-dialog>\r\n        <v-card v-for=\"(post, index) in posts\" :key=\"`post${index}`\" class=\"my-2\">\r\n            <v-card-text class=\"markdown-body\" v-html=\"markdown(post)\">\r\n            </v-card-text>\r\n        </v-card>\r\n    </v-container>\r\n</template>\r\n\r\n<script>\r\nconst marked = require('marked')\r\n\r\nexport default {\r\n    name: 'PostView',\r\n    data() {\r\n        return {\r\n            posts: [],\r\n            dialog: false,\r\n            form: {\r\n                title: '',\r\n                content: ''\r\n            },\r\n            saving: false\r\n        }\r\n    },\r\n    mounted() {\r\n        this.fetchPost()\r\n    },\r\n    methods: {\r\n        fetchPost() {\r\n            fetch(process.env.VUE_APP_API + '/bulletin', { credentials: 'include' }).then(r => r.json()).then(response => {\r\n            if (response.success) {\r\n                this.posts = response.data\r\n            }\r\n            else alert(response.data)\r\n        })\r\n        },\r\n        markdown({content, title, username}) {\r\n            return marked.parse(`\r\n# ${title}\r\n> 發文者: ${username}\r\n\r\n${content}\r\n            `)\r\n        },\r\n        post() {\r\n            this.saving = true\r\n            fetch(process.env.VUE_APP_API + '/bulletin', {\r\n                credentials: 'include',\r\n                method: 'POST',\r\n                body: JSON.stringify(this.form),\r\n                headers:{\r\n                    'content-type': 'application/json'\r\n                }\r\n            }).then(r => r.json()).then(response => {\r\n                if (response.success) {\r\n                    this.fetchPost()\r\n                } else {\r\n                    alert(response.data)\r\n                }\r\n                this.saving = false\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PostView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PostView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PostView.vue?vue&type=template&id=1af9c527&\"\nimport script from \"./PostView.vue?vue&type=script&lang=js&\"\nexport * from \"./PostView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',[_c('video',{ref:\"originVideo\",staticClass:\"tw-rounded-xl tw-mb-4\",attrs:{\"controls\":\"\",\"muted\":\"\",\"autoplay\":\"\"},domProps:{\"muted\":true}}),_c('video',{ref:\"remoteVideo\",staticClass:\"tw-rounded-xl tw-mb-4\",attrs:{\"controls\":\"\",\"muted\":\"\",\"autoplay\":\"\"},domProps:{\"muted\":true}}),(_vm.initializing)?_c('div',[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"color\":\"primary\"}}),_vm._v(\" 初始化連線... \")],1):(!_vm.connected)?[(_vm.contactList.length)?_c('v-list',_vm._l((_vm.contactList),function(contact,index){return _c('v-list-item',{key:`contact${index}`,on:{\"click\":function($event){return _vm.connectRequest(contact)}}},[_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(contact.username))])],1)],1)}),1):_c('div',[_c('p',[_vm._v(\"目前沒有其他人上線，請你的朋友也打開這個頁面\")]),_c('p',[_vm._v(\"其實沒有朋友也沒有關係, 可以對著鏡子視訊\")])]),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){return _vm.fetchContacts()}}},[_vm._v(\"刷新列表\")])]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-container>\r\n        <video ref=\"originVideo\" controls muted autoplay class=\"tw-rounded-xl tw-mb-4\"></video>\r\n        <video ref=\"remoteVideo\" controls muted autoplay class=\"tw-rounded-xl tw-mb-4\"></video>\r\n        <div v-if=\"initializing\">\r\n            <v-progress-circular indeterminate color=\"primary\"></v-progress-circular> 初始化連線...\r\n        </div>\r\n        <template v-else-if=\"!connected\">\r\n            <v-list v-if=\"contactList.length\">\r\n                <v-list-item v-for=\"contact, index in contactList\" :key=\"`contact${index}`\"\r\n                    @click=\"connectRequest(contact)\">\r\n                    <v-list-item-content>\r\n                        <v-list-item-title>{{ contact.username }}</v-list-item-title>\r\n                    </v-list-item-content>\r\n                </v-list-item>\r\n            </v-list>\r\n            <div v-else>\r\n                <p>目前沒有其他人上線，請你的朋友也打開這個頁面</p>\r\n                <p>其實沒有朋友也沒有關係, 可以對著鏡子視訊</p>\r\n            </div>\r\n            <v-btn color=\"primary\" @click=\"fetchContacts()\">刷新列表</v-btn>\r\n        </template>\r\n    </v-container>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n    name: 'Phoneview',\r\n    data() {\r\n        return {\r\n            contacts: [],\r\n            peer: undefined,\r\n            sdp: undefined,\r\n            candidates: [],\r\n            initializing: true,\r\n            localStream: undefined,\r\n            connected: false,\r\n        }\r\n    },\r\n    mounted() {\r\n        this.setupRTC()\r\n    },\r\n    methods: {\r\n        async send(obj) {\r\n            return fetch(process.env.VUE_APP_API + '/phonebook', {\r\n                credentials: 'include',\r\n                method: 'POST',\r\n                body: JSON.stringify(obj),\r\n                headers: {\r\n                    'content-type': 'application/json'\r\n                }\r\n            }).then(r => r.json()).then(response => {\r\n                console.log(response)\r\n            })\r\n        },\r\n        async fetchContacts() {\r\n            return fetch(process.env.VUE_APP_API + '/phonebook', { credentials: 'include' }).then(r => r.json()).then(response => {\r\n                if (response.success) {\r\n                    this.contacts = response.data\r\n                }\r\n                else alert(response.data)\r\n            })\r\n        },\r\n        async setupRTC() {\r\n            const stream = await navigator.mediaDevices.getUserMedia({\r\n                video: true,\r\n                audio: true\r\n            })\r\n            \r\n            setTimeout(() => { this.initializing = false }, 3000)\r\n\r\n            this.localStrem = stream\r\n            this.$refs.originVideo.srcObject = stream\r\n            this.peer = new RTCPeerConnection({\r\n                iceServers: [{\r\n                    url: \"stun:stun.l.google.com:19302\"\r\n                }, {\r\n                    url: \"turn:140.112.30.32:3478\",\r\n                    username: \"username\",\r\n                    credential: \"password\"\r\n                }]\r\n            })\r\n            this.peer.addStream(stream);\r\n            this.peer.onaddstream = (event) => {\r\n                this.$refs.remoteVideo.srcObject = event.stream;\r\n                this.connected = true\r\n                this.finished = true\r\n            }\r\n\r\n            this.peer.onicecandidate = (event) => {\r\n                if (event.candidate) {\r\n                    this.candidates.push(event.candidate)\r\n                } else {\r\n                    this.initializing = false\r\n                }\r\n            }\r\n\r\n            this.sdp = await this.peer.createOffer({\r\n                offerToReceiveAudio: 1,\r\n                offerToReceiveVideo: 1\r\n            })\r\n\r\n            this.peer.setLocalDescription(this.sdp);\r\n\r\n        },\r\n        connectRequest(contact) {\r\n            this.peer.setRemoteDescription(contact.sdp, () => {\r\n                this.peer.createAnswer().then((desc) => {\r\n                    this.peer.setLocalDescription(desc, () => {\r\n                        console.log(this.peer.localDescription, this.candidates)\r\n                        console.log('123')\r\n                        this.send({\r\n                            username: this.$store.state.username,\r\n                            sdp: this.peer.localDescription,\r\n                            candidates: this.candidates,\r\n                            target: contact.username\r\n                        })\r\n                    });\r\n                });\r\n            });\r\n            contact.candidates.forEach(candidate => {\r\n                this.peer.addIceCandidate(candidate)\r\n            })\r\n        },\r\n        async pollingIncoming() {\r\n            if (this.connected) return\r\n            await fetch(process.env.VUE_APP_API + '/phonebook', { credentials: 'include' }).then(r => r.json()).then(response => {\r\n                if (response.success) {\r\n                    response.data.filter(item => item.sdp.type == 'answer' && item.target == this.$store.state.username).forEach(item => {\r\n\r\n                        if (confirm(`您要跟${item.username}連線嗎？`)) {\r\n                            this.peer.setRemoteDescription(item.sdp)\r\n                            item.candidates.forEach(candidate => {\r\n                                this.peer.addIceCandidate(candidate)\r\n                            })\r\n\r\n                            this.connected = true\r\n\r\n                            const params = [this.$store.state.username, item.username]\r\n                            params.forEach(username => {\r\n                                fetch(process.env.VUE_APP_API + '/phonebook', {\r\n                                    credentials: 'include',\r\n                                    method: 'DELETE',\r\n                                    body: JSON.stringify({\r\n                                        username\r\n                                    }),\r\n                                    headers: {\r\n                                        'content-type': 'application/json'\r\n                                    }\r\n                                }).then(r => r.json()).then(response => {\r\n                                    if (!response.success) alert(response.data)\r\n                                })\r\n                            })\r\n\r\n                            return\r\n                        }\r\n                    })\r\n                }\r\n                else alert(response.data)\r\n            })\r\n            setTimeout(this.pollingIncoming, 1000)\r\n        }\r\n    },\r\n    computed: {\r\n        contactList() {\r\n            return this.contacts.filter(item => item.username != this.$store.state.username)\r\n        }\r\n    },\r\n    watch: {\r\n        initializing(newVal) {\r\n            if (newVal == false) {\r\n                console.log(this.candidates)\r\n                this.send({\r\n                    username: this.$store.state.username,\r\n                    sdp: this.sdp,\r\n                    target: '',\r\n                    candidates: this.candidates\r\n                }).then(() => {\r\n                    this.fetchContacts().then(() => {\r\n                        this.pollingIncoming()\r\n                    })\r\n                })\r\n            }\r\n        }\r\n    },\r\n}\r\n</script>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PhoneView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PhoneView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PhoneView.vue?vue&type=template&id=54f5ebb6&\"\nimport script from \"./PhoneView.vue?vue&type=script&lang=js&\"\nexport * from \"./PhoneView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport LoginView from '../views/LoginView.vue'\nimport RegisterView from '../views/RegisterView.vue'\nimport PostView from '../views/PostView.vue'\nimport PhoneView from '../views/PhoneView.vue'\n\nVue.use(VueRouter)\n\nconst routes = [{\n        path: '/',\n        name: 'login',\n        component: LoginView\n    },\n    {\n        path: '/post',\n        name: 'post',\n        component: PostView\n    },\n    {\n        path: '/phone',\n        name: 'phone',\n        component: PhoneView\n    },\n    {\n        path: '/register',\n        name: 'register',\n        component: RegisterView\n    }\n]\n\nconst router = new VueRouter({\n    routes\n})\n\nexport default router","import Vue from 'vue'\nimport Vuex from 'vuex'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n    state: {\n        loggedIn: false,\n        username: undefined\n    },\n    getters: {},\n    mutations: {\n        login(state, { username }) {\n            state.username = username\n            state.loggedIn = true\n        },\n        logout(state) {\n            state.username = undefined\n            state.loggedIn = false\n        }\n    },\n    actions: {},\n    modules: {}\n})","import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport vuetify from './plugins/vuetify'\r\nimport './assets/tailwind.css'\r\nimport './assets/github-markdown.css'\r\nimport router from './router'\r\nimport store from './store'\r\n\r\nVue.config.productionTip = false\r\n\r\nnew Vue({\r\n    vuetify,\r\n    router,\r\n    store,\r\n    render: h => h(App)\r\n}).$mount('#app')","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkcn_project_messaging\"] = self[\"webpackChunkcn_project_messaging\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(9205); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_c","_self","staticClass","staticRenderFns","render","_vm","this","_v","$store","state","loggedIn","_s","username","on","logout","attrs","name","data","loginDialog","loggingIn","form","password","methods","fetch","credentials","alert","component","script","components","Header","Navigation","mounted","console","Vue","Vuetify","required","model","value","callback","expression","$set","login","method","body","headers","registering","register","dialog","content","$$v","post","key","domProps","marked","posts","title","saving","fetchPost","markdown","ref","initializing","connectRequest","contact","contacts","peer","sdp","candidates","localStream","connected","video","audio","setTimeout","iceServers","url","credential","offerToReceiveAudio","offerToReceiveVideo","target","response","item","params","computed","contactList","watch","VueRouter","routes","path","LoginView","PostView","PhoneView","RegisterView","router","Vuex","undefined","getters","mutations","actions","modules","vuetify","store","h","App","$mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","length","fulfilled","j","Object","keys","every","splice","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","g","globalThis","Function","e","window","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","id","chunkLoadingGlobal","self","forEach","bind","push","__webpack_exports__"],"sourceRoot":""}